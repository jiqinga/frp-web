basePath: /api
definitions:
  handler.ChangePasswordRequest:
    properties:
      new_password:
        example: newpass123
        minLength: 6
        type: string
      old_password:
        example: oldpass123
        type: string
    required:
    - new_password
    - old_password
    type: object
  handler.DNSProviderRequest:
    properties:
      access_key:
        type: string
      enabled:
        type: boolean
      name:
        type: string
      secret_key:
        description: 创建时必填，更新时可选
        type: string
      type:
        type: string
    required:
    - access_key
    - name
    - type
    type: object
  handler.DownloadCertificateResponse:
    properties:
      cert_pem:
        type: string
      domain:
        type: string
      full_chain_pem:
        type: string
      issuer_cert_pem:
        type: string
    type: object
  handler.LoginRequest:
    properties:
      password:
        example: admin123
        type: string
      username:
        example: admin
        type: string
    required:
    - password
    - username
    type: object
  handler.RequestCertificateInput:
    properties:
      auto_renew:
        type: boolean
      dns_provider_id:
        type: integer
      domain:
        type: string
      proxy_id:
        type: integer
    required:
    - dns_provider_id
    - domain
    type: object
  handler.RequestCertificateResponse:
    properties:
      domain:
        type: string
      task_id:
        type: string
    type: object
  handler.UpdateAutoRenewInput:
    properties:
      auto_renew:
        type: boolean
    type: object
  model.AlertRecipient:
    properties:
      created_at:
        type: string
      email:
        type: string
      enabled:
        type: boolean
      id:
        type: integer
      name:
        type: string
      updated_at:
        type: string
    type: object
  model.AlertRecipientGroup:
    properties:
      created_at:
        type: string
      description:
        type: string
      enabled:
        type: boolean
      id:
        type: integer
      name:
        type: string
      recipients:
        items:
          $ref: '#/definitions/model.AlertRecipient'
        type: array
      updated_at:
        type: string
    type: object
  model.AlertRule:
    properties:
      cooldown_minutes:
        description: 告警冷却时间（分钟）
        type: integer
      created_at:
        type: string
      enabled:
        type: boolean
      id:
        type: integer
      notify_group_ids:
        description: 分组ID列表，逗号分隔
        type: string
      notify_on_recovery:
        description: 恢复在线时是否发送通知
        type: boolean
      notify_recipient_ids:
        description: 接收人ID列表，逗号分隔
        type: string
      notify_webhook:
        type: string
      offline_delay_seconds:
        description: 离线延迟确认时间（秒），防止网络波动误报
        type: integer
      proxy_id:
        description: 保留兼容旧数据
        type: integer
      rule_type:
        description: daily, monthly, rate, offline
        type: string
      target_id:
        description: 对应 proxy_id, client_id, frp_server_id
        type: integer
      target_type:
        allOf:
        - $ref: '#/definitions/model.AlertTargetType'
        description: proxy, frpc, frps
      threshold_unit:
        description: bytes, MB, GB
        type: string
      threshold_value:
        description: 流量告警阈值，离线告警不需要
        type: integer
      updated_at:
        type: string
    type: object
  model.AlertTargetType:
    enum:
    - proxy
    - frpc
    - frps
    - system
    type: string
    x-enum-comments:
      AlertTargetFrpc: frpc 离线告警
      AlertTargetFrps: frps 离线告警
      AlertTargetProxy: 代理流量告警
      AlertTargetSystem: 系统级告警
    x-enum-varnames:
    - AlertTargetProxy
    - AlertTargetFrpc
    - AlertTargetFrps
    - AlertTargetSystem
  model.Client:
    properties:
      arch:
        type: string
      config_sync_error:
        type: string
      config_sync_status:
        description: 配置同步状态字段
        type: string
      config_sync_time:
        type: string
      config_version:
        type: integer
      created_at:
        type: string
      daemon_version:
        type: string
      frp_server_id:
        type: integer
      frpc_admin_host:
        type: string
      frpc_admin_port:
        type: integer
      frpc_admin_pwd:
        type: string
      frpc_admin_user:
        type: string
      frpc_version:
        description: 版本信息字段
        type: string
      id:
        type: integer
      last_config_sync:
        type: string
      last_heartbeat:
        type: string
      name:
        type: string
      online_status:
        type: string
      os:
        type: string
      protocol:
        type: string
      proxies:
        items:
          $ref: '#/definitions/model.Proxy'
        type: array
      remark:
        type: string
      server_addr:
        type: string
      server_port:
        type: integer
      token:
        type: string
      updated_at:
        type: string
      ws_connected:
        type: boolean
    type: object
  model.ClientRegisterToken:
    properties:
      admin_password:
        type: string
      client_name:
        type: string
      created_at:
        type: string
      created_by:
        type: integer
      expires_at:
        type: string
      frp_server_id:
        type: integer
      id:
        type: integer
      protocol:
        type: string
      remark:
        type: string
      server_addr:
        type: string
      server_port:
        type: integer
      token:
        type: string
      token_str:
        type: string
      used:
        type: boolean
      used_at:
        type: string
    type: object
  model.FrpServer:
    properties:
      binary_path:
        type: string
      bind_port:
        type: integer
      config_path:
        type: string
      created_at:
        type: string
      dashboard_port:
        type: integer
      dashboard_pwd:
        type: string
      dashboard_user:
        type: string
      enabled:
        type: boolean
      host:
        type: string
      id:
        type: integer
      install_path:
        type: string
      last_error:
        type: string
      last_sync_time:
        type: string
      mirror_id:
        type: integer
      name:
        type: string
      pid:
        type: integer
      server_type:
        $ref: '#/definitions/model.ServerType'
      ssh_host:
        type: string
      ssh_password:
        type: string
      ssh_port:
        type: integer
      ssh_user:
        type: string
      status:
        $ref: '#/definitions/model.FrpServerStatus'
      token:
        type: string
      updated_at:
        type: string
      version:
        type: string
    type: object
  model.FrpServerStatus:
    enum:
    - stopped
    - starting
    - running
    - stopping
    - error
    type: string
    x-enum-varnames:
    - StatusStopped
    - StatusStarting
    - StatusRunning
    - StatusStopping
    - StatusError
  model.GithubMirror:
    properties:
      base_url:
        type: string
      created_at:
        type: string
      description:
        type: string
      enabled:
        type: boolean
      id:
        type: integer
      is_default:
        type: boolean
      name:
        type: string
      updated_at:
        type: string
    type: object
  model.Proxy:
    properties:
      allow_users:
        type: string
      auto_cert:
        description: 自动证书字段
        type: boolean
      bandwidth_limit:
        type: string
      bandwidth_limit_mode:
        type: string
      cert_id:
        description: 关联的证书ID
        type: integer
      client_id:
        type: integer
      created_at:
        type: string
      current_bytes_in_rate:
        type: integer
      current_bytes_out_rate:
        type: integer
      custom_domains:
        type: string
      dns_provider_id:
        description: DNS提供商ID
        type: integer
      dns_root_domain:
        description: 根域名
        type: string
      enable_dns_sync:
        description: DNS同步字段
        type: boolean
      enabled:
        type: boolean
      frp_cur_conns:
        type: integer
      frp_last_close_time:
        type: string
      frp_last_start_time:
        type: string
      frp_status:
        type: string
      health_check_interval:
        type: integer
      health_check_timeout:
        type: integer
      health_check_type:
        type: string
      host_header_rewrite:
        type: string
      http_password:
        type: string
      http_user:
        type: string
      id:
        type: integer
      last_online_time:
        type: string
      last_traffic_update:
        type: string
      local_ip:
        type: string
      local_port:
        type: integer
      locations:
        type: string
      name:
        type: string
      plugin_config:
        description: 插件配置 JSON
        type: string
      plugin_type:
        description: 插件配置字段
        type: string
      remote_port:
        type: integer
      secret_key:
        type: string
      subdomain:
        type: string
      total_bytes_in:
        type: integer
      total_bytes_out:
        type: integer
      type:
        type: string
      updated_at:
        type: string
      use_compression:
        type: boolean
      use_encryption:
        type: boolean
    type: object
  model.ServerType:
    enum:
    - local
    - remote
    type: string
    x-enum-varnames:
    - ServerTypeLocal
    - ServerTypeRemote
  repository.TrafficTrendPoint:
    properties:
      inbound:
        type: integer
      outbound:
        type: integer
      time:
        type: string
    type: object
  util.Response:
    properties:
      code:
        type: integer
      data: {}
      message:
        type: string
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: FRP 管理面板后端 API 文档
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: FRP 管理面板 API
  version: "1.0"
paths:
  /api/alerts/groups:
    get:
      consumes:
      - application/json
      description: 获取系统中所有的告警接收人分组列表
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: 获取失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取所有告警接收人分组
      tags:
      - 告警管理
    post:
      consumes:
      - application/json
      description: 创建新的告警接收人分组，用于批量管理接收人
      parameters:
      - description: 分组信息
        in: body
        name: group
        required: true
        schema:
          $ref: '#/definitions/model.AlertRecipientGroup'
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 创建失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 创建告警接收人分组
      tags:
      - 告警管理
  /api/alerts/groups/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除指定的告警接收人分组
      parameters:
      - description: 分组ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 删除失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 删除告警接收人分组
      tags:
      - 告警管理
    put:
      consumes:
      - application/json
      description: 更新指定告警接收人分组的信息
      parameters:
      - description: 分组ID
        in: path
        name: id
        required: true
        type: integer
      - description: 分组信息
        in: body
        name: group
        required: true
        schema:
          $ref: '#/definitions/model.AlertRecipientGroup'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 更新失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 更新告警接收人分组
      tags:
      - 告警管理
  /api/alerts/groups/{id}/recipients:
    put:
      consumes:
      - application/json
      description: 设置指定分组包含的告警接收人列表
      parameters:
      - description: 分组ID
        in: path
        name: id
        required: true
        type: integer
      - description: 接收人ID列表
        in: body
        name: request
        required: true
        schema:
          properties:
            recipient_ids:
              items:
                type: integer
              type: array
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 设置成功
          schema:
            $ref: '#/definitions/util.Response'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 设置失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 设置分组成员
      tags:
      - 告警管理
  /api/alerts/logs:
    get:
      consumes:
      - application/json
      description: 获取告警触发的历史日志记�?
      parameters:
      - default: 100
        description: 返回记录数量限制
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: 获取失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取告警日志
      tags:
      - 告警管理
  /api/alerts/recipients:
    get:
      consumes:
      - application/json
      description: 获取系统中所有的告警接收人列表
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: 获取失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取所有告警接收人
      tags:
      - 告警管理
    post:
      consumes:
      - application/json
      description: 创建新的告警接收人，用于接收告警通知
      parameters:
      - description: 告警接收人信息
        in: body
        name: recipient
        required: true
        schema:
          $ref: '#/definitions/model.AlertRecipient'
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 创建失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 创建告警接收人
      tags:
      - 告警管理
  /api/alerts/recipients/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除指定的告警接收人
      parameters:
      - description: 接收人ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 删除失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 删除告警接收人
      tags:
      - 告警管理
    put:
      consumes:
      - application/json
      description: 更新指定告警接收人的信息
      parameters:
      - description: 接收人ID
        in: path
        name: id
        required: true
        type: integer
      - description: 告警接收人信息
        in: body
        name: recipient
        required: true
        schema:
          $ref: '#/definitions/model.AlertRecipient'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 更新失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 更新告警接收人
      tags:
      - 告警管理
  /api/alerts/rules:
    get:
      consumes:
      - application/json
      description: 获取系统中所有的告警规则列表
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: 获取失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取所有告警规�?
      tags:
      - 告警管理
    post:
      consumes:
      - application/json
      description: 创建新的告警规则，支持多种规则类型和目标类型
      parameters:
      - description: 告警规则信息
        in: body
        name: rule
        required: true
        schema:
          $ref: '#/definitions/model.AlertRule'
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 创建失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 创建告警规则
      tags:
      - 告警管理
    put:
      consumes:
      - application/json
      description: 更新现有的告警规则配�?
      parameters:
      - description: 告警规则信息
        in: body
        name: rule
        required: true
        schema:
          $ref: '#/definitions/model.AlertRule'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 更新失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 更新告警规则
      tags:
      - 告警管理
  /api/alerts/rules/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除指定的告警规�?
      parameters:
      - description: 规则ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 删除失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 删除告警规则
      tags:
      - 告警管理
  /api/alerts/rules/proxy/{id}:
    get:
      consumes:
      - application/json
      description: 获取指定代理关联的所有告警规�?
      parameters:
      - description: 代理ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: 获取失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 按代理ID获取告警规则
      tags:
      - 告警管理
  /api/auth/login:
    post:
      consumes:
      - application/json
      description: 用户登录接口，验证用户名和密码后返回JWT Token
      parameters:
      - description: 登录信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handler.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: token和用户信息
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "401":
          description: 用户名或密码错误
          schema:
            $ref: '#/definitions/util.Response'
      summary: 用户登录
      tags:
      - 认证
  /api/auth/password:
    put:
      consumes:
      - application/json
      description: 修改当前登录用户的密码，需要提供旧密码验证
      parameters:
      - description: 密码修改信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handler.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 密码修改成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 参数错误或旧密码错误
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 修改密码
      tags:
      - 认证
  /api/auth/profile:
    get:
      consumes:
      - application/json
      description: 获取当前登录用户的详细信息
      produces:
      - application/json
      responses:
        "200":
          description: 用户信息
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "404":
          description: 用户不存在
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取用户信息
      tags:
      - 认证
  /api/certificates:
    get:
      consumes:
      - application/json
      description: 获取所有 SSL 证书的列表，包含证书状态、域名、过期时间等信息
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回证书列表
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取证书列表
      tags:
      - 证书管理
    post:
      consumes:
      - application/json
      description: 异步申请新的 SSL 证书，通过 DNS 验证方式完成域名所有权验证
      parameters:
      - description: 证书申请信息
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/handler.RequestCertificateInput'
      produces:
      - application/json
      responses:
        "200":
          description: 成功提交申请，返回任务ID
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  $ref: '#/definitions/handler.RequestCertificateResponse'
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 申请证书
      tags:
      - 证书管理
  /api/certificates/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的 SSL 证书，删除后无法恢复
      parameters:
      - description: 证书ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/util.Response'
        "400":
          description: 无效的证书ID
          schema:
            $ref: '#/definitions/util.Response'
        "404":
          description: 证书不存在
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 删除证书失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 删除证书
      tags:
      - 证书管理
    get:
      consumes:
      - application/json
      description: 根据证书 ID 获取单个证书的详细信息
      parameters:
      - description: 证书ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回证书详情
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 无效的证书ID
          schema:
            $ref: '#/definitions/util.Response'
        "404":
          description: 证书不存在
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取证书详情
      tags:
      - 证书管理
  /api/certificates/{id}/auto-renew:
    put:
      consumes:
      - application/json
      description: 更新证书的自动续期状态，开启后系统将在证书即将过期时自动续期
      parameters:
      - description: 证书ID
        in: path
        name: id
        required: true
        type: integer
      - description: 自动续期状态
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/handler.UpdateAutoRenewInput'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/util.Response'
        "400":
          description: 无效的证书ID或参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "404":
          description: 证书不存在
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 更新失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 设置自动续期
      tags:
      - 证书管理
  /api/certificates/{id}/download:
    get:
      consumes:
      - application/json
      description: 下载证书内容，包含证书 PEM、颁发者证书 PEM 和完整证书链
      parameters:
      - description: 证书ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回证书内容
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  $ref: '#/definitions/handler.DownloadCertificateResponse'
              type: object
        "400":
          description: 无效的证书ID或证书状态无效
          schema:
            $ref: '#/definitions/util.Response'
        "404":
          description: 证书不存在
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 下载证书
      tags:
      - 证书管理
  /api/certificates/{id}/reapply:
    post:
      consumes:
      - application/json
      description: 重新申请之前申请失败的证书，使用原有的域名和 DNS 提供商配置
      parameters:
      - description: 证书ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 重新申请成功
          schema:
            $ref: '#/definitions/util.Response'
        "400":
          description: 无效的证书ID
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 重新申请证书失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 重新申请证书
      tags:
      - 证书管理
  /api/certificates/{id}/renew:
    post:
      consumes:
      - application/json
      description: 手动续期指定的 SSL 证书，重新向 ACME 服务器申请新证书
      parameters:
      - description: 证书ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 续期成功
          schema:
            $ref: '#/definitions/util.Response'
        "400":
          description: 无效的证书ID
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 续期证书失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 续期证书
      tags:
      - 证书管理
  /api/certificates/active:
    get:
      consumes:
      - application/json
      description: 获取所有状态为有效的证书列表，不包含已过期或申请失败的证书
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回活跃证书列表
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: 查询证书失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取活跃证书
      tags:
      - 证书管理
  /api/certificates/by-domain:
    get:
      consumes:
      - application/json
      description: 根据精确域名查询对应的证书列表
      parameters:
      - description: 域名
        in: query
        name: domain
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回证书列表
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "400":
          description: 域名不能为空
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 查询证书失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 按域名查询证书
      tags:
      - 证书管理
  /api/certificates/expiring:
    get:
      consumes:
      - application/json
      description: 获取所有即将在 30 天内过期的证书列表，用于提醒续期
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回即将过期的证书列表
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: 查询证书失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取即将过期的证书
      tags:
      - 证书管理
  /api/certificates/match:
    get:
      consumes:
      - application/json
      description: 根据域名模式匹配证书，支持通配符证书匹配（如 *.example.com 可匹配 sub.example.com）
      parameters:
      - description: 域名
        in: query
        name: domain
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回匹配的证书列表
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "400":
          description: 域名不能为空
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 查询证书失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 匹配证书
      tags:
      - 证书管理
  /api/clients:
    get:
      consumes:
      - application/json
      description: 分页获取客户端列表，支持关键词搜索
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 搜索关键词
        in: query
        name: keyword
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    list:
                      items:
                        type: object
                      type: array
                    total:
                      type: integer
                  type: object
              type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取客户端列表
      tags:
      - 客户端管理
    post:
      consumes:
      - application/json
      description: 创建新的客户端
      parameters:
      - description: 客户端信息
        in: body
        name: client
        required: true
        schema:
          $ref: '#/definitions/model.Client'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 创建客户端
      tags:
      - 客户端管理
  /api/clients/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的客户端
      parameters:
      - description: 客户端ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/util.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 删除客户端
      tags:
      - 客户端管理
    get:
      consumes:
      - application/json
      description: 根据ID获取单个客户端的详细信息
      parameters:
      - description: 客户端ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取客户端详情
      tags:
      - 客户端管理
    put:
      consumes:
      - application/json
      description: 更新指定客户端的信息
      parameters:
      - description: 客户端ID
        in: path
        name: id
        required: true
        type: integer
      - description: 客户端信息
        in: body
        name: client
        required: true
        schema:
          $ref: '#/definitions/model.Client'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 更新客户端
      tags:
      - 客户端管理
  /api/clients/{id}/export:
    get:
      description: 导出指定客户端的FRP配置文件(frpc.toml格式)
      parameters:
      - description: 客户端ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - text/plain
      responses:
        "200":
          description: FRP配置文件内容
          schema:
            type: string
        "500":
          description: 导出配置失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 导出客户端配置
      tags:
      - 代理管理
  /api/clients/{id}/frpc/control:
    post:
      consumes:
      - application/json
      description: 控制客户端的 frpc 进程（启动/停止/重启）
      parameters:
      - description: 客户端ID
        in: path
        name: id
        required: true
        type: integer
      - description: '操作类型，action: start/stop/restart'
        in: body
        name: request
        required: true
        schema:
          properties:
            action:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 控制 frpc
      tags:
      - 客户端管理
  /api/clients/{id}/logs/start:
    post:
      consumes:
      - application/json
      description: 开始接收指定客户端的实时日志流
      parameters:
      - description: 客户端ID
        in: path
        name: id
        required: true
        type: integer
      - description: '日志配置，log_type: frpc/daemon，lines: 初始行数'
        in: body
        name: request
        required: true
        schema:
          properties:
            lines:
              type: integer
            log_type:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 开始日志流
      tags:
      - 客户端管理
  /api/clients/{id}/logs/stop:
    post:
      consumes:
      - application/json
      description: 停止接收指定客户端的实时日志流
      parameters:
      - description: 客户端ID
        in: path
        name: id
        required: true
        type: integer
      - description: '日志类型，log_type: frpc/daemon'
        in: body
        name: request
        required: true
        schema:
          properties:
            log_type:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 停止日志流
      tags:
      - 客户端管理
  /api/clients/{id}/proxies:
    get:
      consumes:
      - application/json
      description: 获取指定客户端下的所有代理配置
      parameters:
      - description: 客户端ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 代理列表
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: 获取代理列表失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取客户端代理列表
      tags:
      - 代理管理
  /api/clients/{id}/update:
    post:
      consumes:
      - application/json
      description: 向指定客户端发送软件更新命令
      parameters:
      - description: 客户端ID
        in: path
        name: id
        required: true
        type: integer
      - description: '更新配置，update_type: frpc/daemon'
        in: body
        name: request
        required: true
        schema:
          properties:
            mirror_id:
              type: integer
            update_type:
              type: string
            version:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 更新客户端软件
      tags:
      - 客户端管理
  /api/clients/{id}/versions:
    get:
      consumes:
      - application/json
      description: 获取指定客户端的历史版本信息
      parameters:
      - description: 客户端ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取客户端版本列表
      tags:
      - 客户端管理
  /api/clients/batch-update:
    post:
      consumes:
      - application/json
      description: 批量更新多个客户端的信息
      parameters:
      - description: 批量更新请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/util.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 批量更新客户端
      tags:
      - 客户端管理
  /api/clients/batch-update-software:
    post:
      consumes:
      - application/json
      description: 向多个客户端发送软件更新命令
      parameters:
      - description: 批量更新配置
        in: body
        name: request
        required: true
        schema:
          properties:
            client_ids:
              items:
                type: integer
              type: array
            mirror_id:
              type: integer
            update_type:
              type: string
            version:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    failed_clients:
                      items:
                        type: integer
                      type: array
                    message:
                      type: string
                    success_count:
                      type: integer
                    total:
                      type: integer
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 批量更新客户端软件
      tags:
      - 客户端管理
  /api/clients/daemon/ws:
    get:
      consumes:
      - application/json
      description: 客户端守护进程 WebSocket 连接接口，用于实时通信（无需认证，使用 Token 验证）
      parameters:
      - description: 客户端ID
        in: query
        name: client_id
        required: true
        type: integer
      - description: 客户端Token
        in: query
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "101":
          description: WebSocket 连接成功
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            properties:
              error:
                type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            properties:
              error:
                type: string
            type: object
      summary: Daemon WebSocket 连接
      tags:
      - 客户端管理
  /api/clients/heartbeat:
    post:
      consumes:
      - application/json
      description: 客户端心跳上报接口（无需认证）
      parameters:
      - description: 心跳数据
        in: body
        name: request
        required: true
        schema:
          properties:
            client_id:
              type: integer
            client_name:
              type: string
            timestamp:
              type: string
            token:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/util.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      summary: 客户端心跳
      tags:
      - 客户端管理
  /api/clients/online:
    get:
      consumes:
      - application/json
      description: 获取当前在线的客户端列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取在线客户端
      tags:
      - 客户端管理
  /api/clients/parse-config:
    post:
      consumes:
      - application/json
      description: 解析 frpc 配置文件内容
      parameters:
      - description: 配置内容
        in: body
        name: request
        required: true
        schema:
          properties:
            config:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 解析客户端配置
      tags:
      - 客户端管理
  /api/clients/register:
    post:
      consumes:
      - application/json
      description: 客户端使用令牌进行自动注册（无需认证）
      parameters:
      - description: 注册令牌
        in: body
        name: request
        required: true
        schema:
          properties:
            token:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      summary: 客户端注册
      tags:
      - 客户端管理
  /api/clients/register/script:
    get:
      consumes:
      - application/json
      description: 根据令牌生成客户端安装注册脚本
      parameters:
      - description: 注册令牌
        in: query
        name: token
        required: true
        type: string
      - default: bash
        description: 脚本类型
        enum:
        - bash
        - powershell
        in: query
        name: type
        type: string
      - description: 镜像ID
        in: query
        name: mirror
        required: true
        type: integer
      produces:
      - text/plain
      responses:
        "200":
          description: 安装脚本内容
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 生成注册脚本
      tags:
      - 客户端管理
  /api/clients/register/token:
    post:
      consumes:
      - application/json
      description: 生成客户端注册令牌，用于自动注册客户端
      parameters:
      - description: 注册令牌配置
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.ClientRegisterToken'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 生成注册令牌
      tags:
      - 客户端管理
  /api/dns/providers:
    get:
      consumes:
      - application/json
      description: 获取所有配置的 DNS 提供商
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取 DNS 提供商列表
      tags:
      - DNS管理
    post:
      consumes:
      - application/json
      description: 创建新的 DNS 提供商配置
      parameters:
      - description: DNS 提供商信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handler.DNSProviderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 创建 DNS 提供商
      tags:
      - DNS管理
  /api/dns/providers/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的 DNS 提供商
      parameters:
      - description: 提供商 ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 删除 DNS 提供商
      tags:
      - DNS管理
    put:
      consumes:
      - application/json
      description: 更新指定的 DNS 提供商配置
      parameters:
      - description: 提供商 ID
        in: path
        name: id
        required: true
        type: integer
      - description: DNS 提供商信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handler.DNSProviderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 更新 DNS 提供商
      tags:
      - DNS管理
  /api/dns/providers/{id}/domains:
    get:
      consumes:
      - application/json
      description: 获取指定 DNS 提供商下托管的所有域名
      parameters:
      - description: 提供商 ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: string
                  type: array
              type: object
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取提供商域名列表
      tags:
      - DNS管理
  /api/dns/providers/{id}/secret:
    get:
      consumes:
      - application/json
      description: 获取指定 DNS 提供商的密钥（用于编辑时显示）
      parameters:
      - description: 提供商 ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    secret_key:
                      type: string
                  type: object
              type: object
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取 DNS 提供商密钥
      tags:
      - DNS管理
  /api/dns/providers/{id}/test:
    post:
      consumes:
      - application/json
      description: 测试指定 DNS 提供商的连接是否正常
      parameters:
      - description: 提供商 ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 测试指定 DNS 提供商
      tags:
      - DNS管理
  /api/dns/providers/test:
    post:
      consumes:
      - application/json
      description: 测试未保存的 DNS 提供商配置是否可用
      parameters:
      - description: DNS 配置信息
        in: body
        name: request
        required: true
        schema:
          properties:
            access_key:
              type: string
            secret_key:
              type: string
            type:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                    success:
                      type: boolean
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 测试 DNS 配置
      tags:
      - DNS管理
  /api/dns/records:
    get:
      consumes:
      - application/json
      description: 获取所有 DNS 记录
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取 DNS 记录列表
      tags:
      - DNS管理
  /api/frp-servers:
    get:
      consumes:
      - application/json
      description: 获取所有 FRP 服务器的列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取 FRP 服务器列表
      tags:
      - FRP服务器
    post:
      consumes:
      - application/json
      description: 创建新的 FRP 服务器配置
      parameters:
      - description: 服务器配置
        in: body
        name: server
        required: true
        schema:
          $ref: '#/definitions/model.FrpServer'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 创建 FRP 服务器
      tags:
      - FRP服务器
  /api/frp-servers/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的 FRP 服务器
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      - description: 是否同时删除远程安装
        in: query
        name: remove_installation
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/util.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 删除 FRP 服务器
      tags:
      - FRP服务器
    get:
      consumes:
      - application/json
      description: 根据 ID 获取 FRP 服务器详情
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取单个 FRP 服务器
      tags:
      - FRP服务器
    put:
      consumes:
      - application/json
      description: 更新指定 FRP 服务器的配置
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      - description: 服务器配置
        in: body
        name: server
        required: true
        schema:
          $ref: '#/definitions/model.FrpServer'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 更新 FRP 服务器
      tags:
      - FRP服务器
  /api/frp-servers/{id}/download:
    post:
      consumes:
      - application/json
      description: 下载指定版本的 FRP 服务端程序
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      - description: 下载参数
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/util.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 下载 FRP 服务端
      tags:
      - FRP服务器
  /api/frp-servers/{id}/local-version:
    get:
      consumes:
      - application/json
      description: 获取本地已下载的 FRP 服务端版本
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取本地 FRP 版本
      tags:
      - FRP服务器
  /api/frp-servers/{id}/metrics:
    get:
      consumes:
      - application/json
      description: 获取指定 FRP 服务器的实时运行指标
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
        "501":
          description: 服务器未开�?metrics 接口
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取服务器指�?
      tags:
      - FRP服务�?
  /api/frp-servers/{id}/metrics-history:
    get:
      consumes:
      - application/json
      description: 获取指定 FRP 服务器的历史运行指标数据
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      - default: 1
        description: 查询天数(1-7)
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取服务器历史指�?
      tags:
      - FRP服务�?
  /api/frp-servers/{id}/remote-install:
    post:
      consumes:
      - application/json
      description: 通过 SSH 在远程服务器上安装 frps
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      - description: 安装参数
        in: body
        name: request
        schema:
          properties:
            mirror_id:
              type: integer
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 远程安装 frps
      tags:
      - FRP服务器
  /api/frp-servers/{id}/remote-logs:
    get:
      consumes:
      - application/json
      description: 通过 SSH 获取远程服务器上的 frps 运行日志
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      - default: 100
        description: 日志行数
        in: query
        name: lines
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    logs:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取远程 frps 日志
      tags:
      - FRP服务器
  /api/frp-servers/{id}/remote-reinstall:
    post:
      consumes:
      - application/json
      description: 通过 SSH 在远程服务器上重新安装 frps
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      - description: 重装参数
        in: body
        name: request
        schema:
          properties:
            mirror_id:
              type: integer
            regenerate_auth:
              type: boolean
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 远程重装 frps
      tags:
      - FRP服务器
  /api/frp-servers/{id}/remote-restart:
    post:
      consumes:
      - application/json
      description: 通过 SSH 在远程服务器上重启 frps 服务
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 远程重启 frps
      tags:
      - FRP服务器
  /api/frp-servers/{id}/remote-start:
    post:
      consumes:
      - application/json
      description: 通过 SSH 在远程服务器上启动 frps 服务
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 远程启动 frps
      tags:
      - FRP服务器
  /api/frp-servers/{id}/remote-stop:
    post:
      consumes:
      - application/json
      description: 通过 SSH 在远程服务器上停止 frps 服务
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 远程停止 frps
      tags:
      - FRP服务器
  /api/frp-servers/{id}/remote-uninstall:
    post:
      consumes:
      - application/json
      description: 通过 SSH 在远程服务器上卸载 frps
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 远程卸载 frps
      tags:
      - FRP服务器
  /api/frp-servers/{id}/remote-upgrade:
    post:
      consumes:
      - application/json
      description: 通过 SSH 在远程服务器上升级 frps 到指定版本
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      - description: 升级参数
        in: body
        name: request
        schema:
          properties:
            mirror_id:
              type: integer
            version:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 远程升级 frps
      tags:
      - FRP服务器
  /api/frp-servers/{id}/remote-version:
    get:
      consumes:
      - application/json
      description: 通过 SSH 获取远程服务器上安装的 frps 版本
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    version:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取远程 frps 版本
      tags:
      - FRP服务器
  /api/frp-servers/{id}/restart:
    post:
      consumes:
      - application/json
      description: 重启指定的本地 FRP 服务器进程
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 重启本地 FRP 服务
      tags:
      - FRP服务器
  /api/frp-servers/{id}/running-task:
    get:
      consumes:
      - application/json
      description: 获取指定服务器当前运行中的任务状态
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取运行中的任务
      tags:
      - FRP服务器
  /api/frp-servers/{id}/start:
    post:
      consumes:
      - application/json
      description: 启动指定的本地 FRP 服务器进程
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 启动本地 FRP 服务
      tags:
      - FRP服务器
  /api/frp-servers/{id}/status:
    get:
      consumes:
      - application/json
      description: 获取指定 FRP 服务器的运行状态
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    status:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取服务运行状态
      tags:
      - FRP服务器
  /api/frp-servers/{id}/stop:
    post:
      consumes:
      - application/json
      description: 停止指定的本地 FRP 服务器进程
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 停止本地 FRP 服务
      tags:
      - FRP服务器
  /api/frp-servers/{id}/test-ssh:
    post:
      consumes:
      - application/json
      description: 测试与远程服务器的 SSH 连接是否正常
      parameters:
      - description: 服务器ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 测试 SSH 连接
      tags:
      - FRP服务器
  /api/frp-servers/parse-config:
    post:
      consumes:
      - application/json
      description: 解析 FRP 服务器配置文件内容
      parameters:
      - description: 配置内容
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 解析服务器配置
      tags:
      - FRP服务器
  /api/frp-servers/test:
    post:
      consumes:
      - application/json
      description: 测试 FRP 服务器的 Dashboard 连接是否正常
      parameters:
      - description: 服务器配置
        in: body
        name: server
        required: true
        schema:
          $ref: '#/definitions/model.FrpServer'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  properties:
                    message:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 测试服务器连接
      tags:
      - FRP服务器
  /api/github-mirrors:
    get:
      consumes:
      - application/json
      description: 获取所有已配置的GitHub加速源列表
      produces:
      - application/json
      responses:
        "200":
          description: 加速源列表
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: 获取加速源列表失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取所有GitHub加速源
      tags:
      - GitHub加速源
    post:
      consumes:
      - application/json
      description: 创建新的GitHub加速源配置
      parameters:
      - description: 加速源信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.GithubMirror'
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 创建加速源失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 创建GitHub加速源
      tags:
      - GitHub加速源
  /api/github-mirrors/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的GitHub加速源配置
      parameters:
      - description: 加速源ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 删除加速源失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 删除GitHub加速源
      tags:
      - GitHub加速源
    get:
      consumes:
      - application/json
      description: 根据ID获取指定的GitHub加速源详情
      parameters:
      - description: 加速源ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 加速源详情
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "404":
          description: 加速源不存在
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取GitHub加速源详情
      tags:
      - GitHub加速源
    put:
      consumes:
      - application/json
      description: 更新指定的GitHub加速源配置
      parameters:
      - description: 加速源ID
        in: path
        name: id
        required: true
        type: integer
      - description: 加速源信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.GithubMirror'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 更新加速源失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 更新GitHub加速源
      tags:
      - GitHub加速源
  /api/github-mirrors/{id}/set-default:
    post:
      consumes:
      - application/json
      description: 将指定的GitHub加速源设置为默认使用的加速源
      parameters:
      - description: 加速源ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 设置成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "500":
          description: 设置默认加速源失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 设置默认GitHub加速源
      tags:
      - GitHub加速源
  /api/logs:
    get:
      consumes:
      - application/json
      description: 分页获取系统操作日志，支持按操作类型和资源类型筛�?
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 操作类型
        in: query
        name: operation_type
        type: string
      - description: 资源类型
        in: query
        name: resource_type
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 日志列表和总数
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "500":
          description: 获取日志失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取操作日志列表
      tags:
      - 日志管理
    post:
      consumes:
      - application/json
      description: 手动创建一条操作日志记�?
      parameters:
      - description: 日志信息
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            $ref: '#/definitions/util.Response'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 创建日志失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 创建操作日志
      tags:
      - 日志管理
  /api/monitor/overview:
    get:
      consumes:
      - application/json
      description: 获取系统监控概览数据，包括服务器数量、客户端数量、代理数量等统计信息
      produces:
      - application/json
      responses:
        "200":
          description: 监控概览数据
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "500":
          description: 获取监控概览失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取监控概览
      tags:
      - 监控
  /api/monitor/stats:
    get:
      consumes:
      - application/json
      description: 获取系统详细统计数据，包括流量统计、连接数�?
      produces:
      - application/json
      responses:
        "200":
          description: 统计数据
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "500":
          description: 获取统计数据失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取统计数据
      tags:
      - 监控
  /api/proxies:
    get:
      consumes:
      - application/json
      description: 获取系统中所有代理配置的列表
      produces:
      - application/json
      responses:
        "200":
          description: 代理列表
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "500":
          description: 获取代理列表失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取所有代理列表
      tags:
      - 代理管理
    post:
      consumes:
      - application/json
      description: 创建新的代理配置，客户端必须在线才能创建
      parameters:
      - description: 代理配置信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.Proxy'
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 参数错误或客户端离线
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 创建代理
      tags:
      - 代理管理
  /api/proxies/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的代理配置，可选择是否同时删除关联的DNS记录，客户端必须在线才能删除
      parameters:
      - description: 代理ID
        in: path
        name: id
        required: true
        type: integer
      - default: true
        description: 是否同时删除DNS记录
        in: query
        name: deleteDNS
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/util.Response'
        "400":
          description: 客户端离线
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 删除代理失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 删除代理
      tags:
      - 代理管理
    put:
      consumes:
      - application/json
      description: 更新指定代理的配置，客户端必须在线才能更新
      parameters:
      - description: 代理ID
        in: path
        name: id
        required: true
        type: integer
      - description: 代理配置信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.Proxy'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 参数错误或客户端离线
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 更新代理失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 更新代理
      tags:
      - 代理管理
  /api/proxies/{id}/toggle:
    put:
      consumes:
      - application/json
      description: 切换指定代理的启用/禁用状态，客户端必须在线才能切换
      parameters:
      - description: 代理ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 切换成功
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 客户端离线
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 切换代理状态失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 切换代理启用/禁用状态
      tags:
      - 代理管理
  /api/settings:
    get:
      consumes:
      - application/json
      description: 获取所有系统设置项
      produces:
      - application/json
      responses:
        "200":
          description: 设置列表
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "500":
          description: 获取设置失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取系统设置
      tags:
      - 系统设置
    put:
      consumes:
      - application/json
      description: 更新指定的系统设置项
      parameters:
      - description: 设置信息
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/util.Response'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 更新设置失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 更新系统设置
      tags:
      - 系统设置
  /api/settings/test-email:
    post:
      consumes:
      - application/json
      description: 发送测试邮件以验证邮件配置是否正确
      parameters:
      - description: 测试邮件请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 测试邮件已发送
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  type: object
              type: object
        "400":
          description: 请输入有效的邮箱地址
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 发送测试邮件失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 测试邮件配置
      tags:
      - 系统设置
  /api/traffic/proxies/summary:
    get:
      consumes:
      - application/json
      description: 获取所有代理在指定时间范围内的流量汇总数据
      parameters:
      - default: 24
        description: 时间范围(小时)
        in: query
        name: hours
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 代理流量汇总，键为代理ID
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "500":
          description: 获取流量汇总失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 批量获取代理流量汇总
      tags:
      - 流量统计
  /api/traffic/proxy/{id}:
    get:
      consumes:
      - application/json
      description: 获取指定代理的流量历史记录
      parameters:
      - description: 代理ID
        in: path
        name: id
        required: true
        type: integer
      - description: 开始时间(RFC3339格式)
        in: query
        name: start
        type: string
      - description: 结束时间(RFC3339格式)
        in: query
        name: end
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 流量历史记录
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    additionalProperties: true
                    type: object
                  type: array
              type: object
        "404":
          description: 代理或客户端不存在
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 获取流量历史失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取代理流量历史
      tags:
      - 流量统计
  /api/traffic/rates/{server_id}:
    get:
      consumes:
      - application/json
      description: 获取指定FRP服务器下所有代理隧道的最新速率数据
      parameters:
      - description: FRP服务器ID
        in: path
        name: server_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 隧道速率列表
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "400":
          description: 无效的服务器ID
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 获取隧道速率失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取服务器下所有隧道的实时速率
      tags:
      - 流量统计
  /api/traffic/rates/{server_id}/{proxy_name}:
    get:
      consumes:
      - application/json
      description: 获取指定隧道在时间范围内的速率历史记录
      parameters:
      - description: FRP服务器ID
        in: path
        name: server_id
        required: true
        type: integer
      - description: 隧道名称
        in: path
        name: proxy_name
        required: true
        type: string
      - description: 开始时间(RFC3339格式)
        in: query
        name: start
        type: string
      - description: 结束时间(RFC3339格式)
        in: query
        name: end
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 速率历史记录
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    type: object
                  type: array
              type: object
        "400":
          description: 无效的服务器ID或隧道名称
          schema:
            $ref: '#/definitions/util.Response'
        "500":
          description: 获取隧道速率历史失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取单个隧道的速率历史
      tags:
      - 流量统计
  /api/traffic/summary:
    get:
      consumes:
      - application/json
      description: 获取系统整体流量统计汇总数据
      produces:
      - application/json
      responses:
        "200":
          description: 流量统计汇总
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "500":
          description: 获取流量统计失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取流量统计汇总
      tags:
      - 流量统计
  /api/traffic/trend:
    get:
      consumes:
      - application/json
      description: 获取指定时间范围内的流量趋势数据，默认24小时
      parameters:
      - default: 24
        description: 时间范围(小时)
        in: query
        name: hours
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 流量趋势数据
          schema:
            allOf:
            - $ref: '#/definitions/util.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/repository.TrafficTrendPoint'
                  type: array
              type: object
        "500":
          description: 获取流量趋势失败
          schema:
            $ref: '#/definitions/util.Response'
      security:
      - BearerAuth: []
      summary: 获取流量趋势
      tags:
      - 流量统计
  /api/ws/realtime:
    get:
      consumes:
      - application/json
      description: 建立WebSocket连接以接收实时数据推送，包括服务器状态、流量统计等
      parameters:
      - description: 认证Token(可选，也可通过Authorization头传递)
        in: query
        name: token
        type: string
      produces:
      - application/json
      responses:
        "101":
          description: WebSocket连接建立成功
          schema:
            type: string
        "401":
          description: 认证失败
          schema:
            type: string
      security:
      - BearerAuth: []
      summary: 实时数据WebSocket连接
      tags:
      - WebSocket
  /download/daemon/{os}/{arch}:
    get:
      description: 下载指定操作系统和架构的frpc-daemon-ws守护程序二进制文�?
      parameters:
      - description: 操作系统
        enum:
        - linux
        - windows
        - darwin
        in: path
        name: os
        required: true
        type: string
      - description: CPU架构
        enum:
        - amd64
        - arm64
        - arm
        - "386"
        in: path
        name: arch
        required: true
        type: string
      produces:
      - application/octet-stream
      responses:
        "200":
          description: 守护程序二进制文�?
          schema:
            type: file
        "400":
          description: 不支持的平台
          schema:
            additionalProperties: true
            type: object
        "404":
          description: 守护程序文件不存�?
          schema:
            additionalProperties: true
            type: object
      summary: 下载Daemon守护程序
      tags:
      - Daemon下载
  /install/{token}:
    get:
      consumes:
      - application/json
      description: 根据令牌获取客户端安装脚本（公开接口）
      parameters:
      - description: 注册令牌
        in: path
        name: token
        required: true
        type: string
      - default: bash
        description: 脚本类型
        enum:
        - bash
        - powershell
        in: query
        name: type
        type: string
      - default: 1
        description: 镜像ID
        in: query
        name: mirror
        type: integer
      produces:
      - text/plain
      responses:
        "200":
          description: 安装脚本内容
          schema:
            type: string
        "400":
          description: 错误信息
          schema:
            type: string
      summary: 获取安装脚本
      tags:
      - 客户端管理
securityDefinitions:
  Bearer:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
